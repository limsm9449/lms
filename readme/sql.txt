ALTER TABLE COURSE ADD (
	OPEN_CLOSE_YN CHAR(1) DEFAULT 'N'
);    


ALTER TABLE USER ADD (
	RECOMMEND_ID VARCHAR(15),
	HINT_QUESTION VARCHAR(100), 
	HINT_ANSWER VARCHAR(100)
);  
ALTER TABLE POINT ADD (
	REF_ID2 VARCHAR(15) 
);  

ALTER TABLE COURSE_MASTER ADD (
	OFFLINE_YN CHAR(1) DEFAULT 'N' 
);    

ALTER TABLE USER ADD ( 
	MAIN_PC_IMAGE_YN CHAR(1) DEFAULT 'N', 
	MAIN_MOBILE_IMAGE_YN CHAR(1) DEFAULT 'N', 
	SLOGAN VARCHAR(400), 
	SIMPLE_INFORM VARCHAR(400) 
);
  
ALTER TABLE USER ADD (
	EMAIL_INFORM_YN CHAR(1) DEFAULT 'N' 
);    

DROP TABLE COST;
	CREATE TABLE COST ( 
	SEQ INT NOT NULL auto_increment, 
	COURSE_ID INT, 
	COST_DATE DATETIME, 
	CP_COST_RATE INT DEFAULT 0, 
	TEACHER_COST_RATE INT DEFAULT 0, 
	REPORT_COST INT DEFAULT 0, 
	EVAL_COST INT DEFAULT 0, 
	DATA_COST INT DEFAULT 0, 
	ANSWER_COST INT DEFAULT 0, 
	TOTAL_COST INT DEFAULT 0, 
	TUTOR_COST INT DEFAULT 0, 
	COMPANY_COST INT DEFAULT 0, 
	TEACHER_COST INT DEFAULT 0, 
	CP_COST INT DEFAULT 0, 
	LAST_YN CHAR(1) DEFAULT 'N', 
	CREATE_DATE DATETIME, 
	CREATE_USER VARCHAR(15), 
	UPDATE_DATE DATETIME, 
	UPDATE_USER VARCHAR(15), 
	PRIMARY KEY(SEQ) );
ALTER TABLE COST ADD INDEX COST_IDX1(COURSE_ID,COST_DATE);

DROP TABLE COST_CALC;
CREATE TABLE COST_CALC ( 
	SEQ INT, 
	KIND VARCHAR(10), 
	USER_ID VARCHAR(15), 
	COST INT DEFAULT 0, 
	BANK VARCHAR(20), 
	ACC_NUM VARCHAR(20), 
	PAYMENT_DATE VARCHAR(10), 
	PRIMARY KEY(SEQ,KIND,USER_ID) );

ALTER TABLE COURSE_MASTER DROP COLUMN POPULAR_IMG1;
ALTER TABLE COURSE_MASTER DROP COLUMN POPULAR_IMG2;
ALTER TABLE COURSE_MASTER DROP COLUMN NEW_IMG1;
ALTER TABLE COURSE_MASTER DROP COLUMN NEW_IMG2;
ALTER TABLE COURSE_MASTER DROP COLUMN RECOMMEND_IMG1;
ALTER TABLE COURSE_MASTER DROP COLUMN RECOMMEND_IMG2;
ALTER TABLE COURSE_MASTER DROP COLUMN POPULAR_COLOR;
ALTER TABLE COURSE_MASTER DROP COLUMN NEW_COLOR;
ALTER TABLE COURSE_MASTER DROP COLUMN RECOMMEND_COLOR;
ALTER TABLE COURSE_MASTER DROP COLUMN MAIN_OPEN_YN;

CREATE TABLE BOARD_TALK ( 
	TALK_ID VARCHAR(15), 
	USER_ID VARCHAR(15), 
	LAST_VIEW_DATE DATETIME, 
	PRIMARY KEY(TALK_ID, USER_ID) );
	
CREATE TABLE BOARD_TALK_DETAIL ( 
	TALK_ID VARCHAR(15), 
	CREATE_DATE DATETIME, 
	CONTENTS TEXT, 
	USER_ID VARCHAR(15), 
	PRIMARY KEY(TALK_ID, CREATE_DATE) );

ALTER TABLE BOARD_DATA ADD ( 
	COST_SEQ INT DEFAULT 0
);

ALTER TABLE BOARD_QNA ADD ( 
	COST_SEQ INT DEFAULT 0
);

ALTER TABLE REPLY ADD ( 
	COST_SEQ INT DEFAULT 0
);

ALTER TABLE COURSE_REGISTER DROP COLUMN COST_ID;
ALTER TABLE COURSE_REGISTER ADD ( 
	COST_SEQ INT DEFAULT 0
);

ALTER TABLE USER DROP COLUMN HINT_QUESTION;
ALTER TABLE USER DROP COLUMN HINT_ANSWER;

DROP TABLE POINT;
CREATE TABLE POINT ( 
	SEQ INT NOT NULL auto_increment, 
	USER_ID VARCHAR(15), 
	POINT_DATE DATETIME, 
	VALID_DATE DATETIME, 
	POINT_CODE VARCHAR(20), 
	IN_POINT INT DEFAULT 0, 
	IN_POINT_USE INT DEFAULT 0, 
	OUT_POINT INT DEFAULT 0, 
	REF_ID INT, 
	REF_ID2 VARCHAR(30), 
	ORD INT DEFAULT 0,
	USE_YN CHAR(1) DEFAULT 'Y', 
	PRIMARY KEY(SEQ) );
ALTER TABLE POINT ADD INDEX POINT_IDX1(USER_ID,POINT_DATE);
CREATE TABLE POINT_CODE ( 
	POINT_CODE VARCHAR(20), 
	POINT_NAME VARCHAR(200), 
	VALID_MONTH INT, 
	POINT INT, 
	UPDATE_DATE DATETIME, 
	PRIMARY KEY(POINT_CODE) );
CREATE TABLE POINT_USE_LOG ( 
	SEQ INT NOT NULL auto_increment, 
	REF_ID2 VARCHAR(30), 
	POINT_SEQ INT, 
	USE_POINT INT, 
	PRIMARY KEY(SEQ) );
ALTER TABLE POINT_USE_LOG ADD INDEX POINT_USE_LOG_IDX1(REF_ID2);	

ALTER TABLE COURSE ADD ( 
	EVENT_POINT_FROM VARCHAR(10), 
	EVENT_POINT_TO VARCHAR(10),
	EVENT_POINT_MONTH INT DEFAULT 0, 
	EVENT_POINT INT DEFAULT 0
);

ALTER TABLE POSTSCRIPT ADD ( 
	BEST_YN CHAR(1) DEFAULT 'N'
);

CREATE TABLE MAIN_FRAME ( 
	SEQ INT NOT NULL auto_increment, 
	CHANNEL_KIND VARCHAR(15), 
	FRAME_KIND VARCHAR(15), 
	FRAME_NAME VARCHAR(100),
	FRAME_DESC VARCHAR(200), 
	ORD INT, 
	USE_YN CHAR(1) DEFAULT 'N', 
	T_ORD INT, 
	T_USE_YN CHAR(1) DEFAULT 'N', 
	PRIMARY KEY(SEQ) );
CREATE TABLE MAIN_FRAME_DETAIL ( 
	SEQ INT NOT NULL auto_increment, 
	MAIN_FRAME_SEQ INT, 
	BK_COLOR VARCHAR(20), 
	BK_IMAGE_URL VARCHAR(200), 
	LINK_URL VARCHAR(200), 
	MP4_YN CHAR(1) DEFAULT 'N', 
	ORD INT, 
	USE_YN CHAR(1) DEFAULT 'N', 
	T_BK_COLOR VARCHAR(20), 
	T_BK_IMAGE_URL VARCHAR(200), 
	T_LINK_URL VARCHAR(200), 
	T_MP4_YN CHAR(1) DEFAULT 'N', 
	T_ORD INT, 
	T_USE_YN CHAR(1) DEFAULT 'N', 
	PRIMARY KEY(SEQ) );
    


INSERT INTO CODE(DD_MAIN,DD_KEY,DD_VALUE,ORD) VALUES('FRAME_KIND','SLIDE','슬라이드','1');
INSERT INTO CODE(DD_MAIN,DD_KEY,DD_VALUE,ORD) VALUES('FRAME_KIND','DOT_SLIDE','Dot 슬라이드','2');
INSERT INTO CODE(DD_MAIN,DD_KEY,DD_VALUE,ORD) VALUES('FRAME_KIND','THUMBNAIL_SLIDE','썸네일 슬라이드','3');
INSERT INTO CODE(DD_MAIN,DD_KEY,DD_VALUE,ORD) VALUES('FRAME_KIND','IMAGE','이미지','4');
INSERT INTO CODE(DD_MAIN,DD_KEY,DD_VALUE,ORD) VALUES('FRAME_KIND','IMAGE_MP4','이미지/동영상','5');
INSERT INTO CODE(DD_MAIN,DD_KEY,DD_VALUE,ORD) VALUES('FRAME_KIND','MP4_IMAGE','동영상/이미지','6');

INSERT INTO CODE(DD_MAIN,DD_KEY,DD_VALUE,ORD) VALUES('CHANNEL_KIND','Q_CHANNEL','Q.채널','1');
INSERT INTO CODE(DD_MAIN,DD_KEY,DD_VALUE,ORD) VALUES('CHANNEL_KIND','P_CHANNEL','P.채널','2');


------------------------------ 미적용 ------------------------------------
  