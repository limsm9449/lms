CREATE TABLE COURSE_ATTENDANCE ( 
	SEQ INT NOT NULL auto_increment, 
	COURSE_ID INT, 
	USER_ID VARCHAR(15), 
	ATTENDANCE_DATE DATETIME, 
	PRIMARY KEY(SEQ) );
ALTER TABLE COURSE_ATTENDANCE ADD INDEX COURSE_ATTENDANCE_IDX1(COURSE_ID,USER_ID);


CREATE TABLE USER_INTEREST_COURSE ( 
	SEQ INT NOT NULL auto_increment, 
	USER_ID VARCHAR(15), 
	COURSE_ID INT, 
	PRIMARY KEY(SEQ) );


DELETE FROM SETTING;
INSERT INTO SETTING VALUES(1,'SERVER_MODE','DEV','개발/운영');
INSERT INTO SETTING VALUES(2,'g_configPath','/home/hosting_users/qlearning/lgdacom','conf 파일 root');
INSERT INTO SETTING VALUES(3,'g_LGD_CASNOTEURL','http://www.qlearning.co.kr/paymentGateway/casNoteUrl.do','무통장(가상계좌) 할당, 입금 통보 결과처리 페이지');
INSERT INTO SETTING VALUES(4,'g_LGD_RETURNURL','http://www.qlearning.co.kr/paymentGateway/returnUrl.do','인증결과 수신 및 전달 페이지');
INSERT INTO SETTING VALUES(5,'g_CST_MID','qpeople','상점ID');
INSERT INTO SETTING VALUES(6,'g_CST_PLATFORM','test','개발/운영');
INSERT INTO SETTING VALUES(7,'g_xpay_js','https://xpay.uplus.co.kr/xpay/js/xpay_crossplatform.js','결재 처리 js');
INSERT INTO SETTING VALUES(8,'PICTURE_FOLDER','/home/hosting_users/qlearning/cImage/teacher','강사 사진 폴더');
INSERT INTO SETTING VALUES(9,'ATTACH_FOLDER','/home/hosting_users/qlearning/lms_attach','첨부파일 폴더');
INSERT INTO SETTING VALUES(10,'COMPANY_FOLDER','/home/hosting_users/qlearning/cImage/company','회사 이미지 폴더');
INSERT INTO SETTING VALUES(11,'USER_FOLDER','/home/hosting_users/qlearning/cImage/user','사용자 이미지 폴더');
INSERT INTO SETTING VALUES(12,'COURSE_IMG_FOLDER','/home/hosting_users/qlearning/cImage/contents','컨텐츠 폴더');
INSERT INTO SETTING VALUES(13,'EVENT_IMG_FOLDER','/home/hosting_users/qlearning/cImage/event','이벤트 이미지 폴더');
INSERT INTO SETTING VALUES(14,'NOTICE_IMG_FOLDER','/home/hosting_users/qlearning/cImage/notice','공지 이미지 폴더');
INSERT INTO SETTING VALUES(15,'MAIN_IMG_FOLDER','/home/hosting_users/qlearning/cImage/main','메인페이지 이미지 폴더');
INSERT INTO SETTING VALUES(16,'ZIPCODE_URL','https://www.epost.go.kr/search.RetrieveIntegrationNewZipCdList.comm','우편번호 검색');
INSERT INTO SETTING VALUES(17,'FROM_YEAR','2015','조건 시작연도');
INSERT INTO SETTING VALUES(18,'TO_YEAR','2025','조건 종료연도');
INSERT INTO SETTING VALUES(19,'BIRTH_FROM_YEAR','1950','생일 시작연도');
INSERT INTO SETTING VALUES(20,'BIRTH_TO_YEAR','2000','생일 종료연도');

CREATE TABLE MAIN_PAGE ( 
	COMP_CD VARCHAR(15), 
	COURSE_ID INT, 
	RECOMMEND_YN CHAR(1) DEFAULT 'N', 
	RECOMMEND_ORD INT, 
	RECOMMEND_IMG1 CHAR(1) DEFAULT 'N', 
	RECOMMEND_IMG2 CHAR(1) DEFAULT 'N', 
	RECOMMEND_COLOR VARCHAR(6), 
	NEW_YN CHAR(1) DEFAULT 'N', 
	NEW_ORD INT, 
	NEW_IMG1 CHAR(1) DEFAULT 'N', 
	NEW_IMG2 CHAR(1) DEFAULT 'N', 
	NEW_COLOR VARCHAR(6), 
	POPULAR_YN CHAR(1) DEFAULT 'N', 
	POPULAR_ORD INT, 
	POPULAR_IMG1 CHAR(1) DEFAULT 'N', 
	POPULAR_IMG2 CHAR(1) DEFAULT 'N', 
	POPULAR_COLOR VARCHAR(6), 
	MAIN_OPEN_YN CHAR(1) DEFAULT 'N', 
	CATEGORY_MAIN_YN CHAR(1) DEFAULT 'N', 
	CREATE_USER VARCHAR(15), 
	CREATE_DATE DATETIME, 
	UPDATE_USER VARCHAR(15), 
	UPDATE_DATE DATETIME, 
	PRIMARY KEY(COMP_CD,COURSE_ID) );


ALTER TABLE COURSE DROP COLUMN RECOMMEND_COURSE_YN;
ALTER TABLE COURSE DROP COLUMN NEW_COURSE_YN;
ALTER TABLE COURSE DROP COLUMN POPULAR_YN;
ALTER TABLE COURSE DROP COLUMN CATEGORY_MAIN_YN;

ALTER TABLE COMPANY ADD (
 	MOBILE VARCHAR(14)
);

ALTER TABLE COMPANY ADD (
 	C2C_YN CHAR(1) DEFAULT 'N'
);

ALTER TABLE BOARD_NOTICE DROP COLUMN MAIN_YN;
ALTER TABLE BOARD_NOTICE DROP COLUMN IMG1;
ALTER TABLE BOARD_NOTICE DROP COLUMN IMG2;
ALTER TABLE BOARD_NOTICE DROP COLUMN COLOR;

DROP TABLE BOARD_EVENT;
CREATE TABLE MAIN_BOARD_EVENT ( 
	SEQ INT NOT NULL auto_increment, 
	COMP_CD VARCHAR(15), 
	TITLE VARCHAR(200), 
	CONTENTS TEXT, 
	VIEW_CNT INT, 
	MAIN_YN CHAR(1) DEFAULT 'N', 
	IMG1 CHAR(1) DEFAULT 'N', 
	IMG2 CHAR(1) DEFAULT 'N', 
	COLOR VARCHAR(6), 
	CREATE_DATE DATETIME, 
	UPDATE_DATE DATETIME, 
	PRIMARY KEY(SEQ) );
ALTER TABLE MAIN_BOARD_EVENT ADD INDEX MAIN_BOARD_EVENT_IDX1(COMP_CD,SEQ);

CREATE TABLE MAIN_BOARD_NOTICE ( 
	SEQ INT NOT NULL auto_increment, 
	COMP_CD VARCHAR(15), 
	TITLE VARCHAR(200), 
	CONTENTS TEXT, 
	VIEW_CNT INT, 
	MAIN_YN CHAR(1) DEFAULT 'N', 
	IMG1 CHAR(1) DEFAULT 'N', 
	IMG2 CHAR(1) DEFAULT 'N', 
	COLOR VARCHAR(6), 
	CREATE_DATE DATETIME, 
	UPDATE_DATE DATETIME, 
	PRIMARY KEY(SEQ) );
ALTER TABLE MAIN_BOARD_NOTICE ADD INDEX MAIN_BOARD_NOTICE_IDX1(COMP_CD,SEQ);
